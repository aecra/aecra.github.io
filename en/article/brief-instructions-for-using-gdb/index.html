<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='I have been learning programming for five or six years, but I still don’t know how to use a powerful debugging tool such as GDB. After I learned it, I wrote this simple article. It is more about providing a reference on how to use it, and more detailed The content still needs to check the official documentation of GDB.'><meta name='keywords' content='GDB'><title>Brief Instructions for Using GDB</title>



<link rel='canonical' href='https://aecra.github.io/en/article/brief-instructions-for-using-gdb/'>

<link rel="stylesheet" href="/scss/style.min.49efbd60809f94209900a2125634493930b2a299cd430d619fc24c3ad2c77d28.css"><meta property='og:title' content='Brief Instructions for Using GDB'>
<meta property='og:description' content='I have been learning programming for five or six years, but I still don’t know how to use a powerful debugging tool such as GDB. After I learned it, I wrote this simple article. It is more about providing a reference on how to use it, and more detailed The content still needs to check the official documentation of GDB.'>


<meta property='og:url' content='https://aecra.github.io/en/article/brief-instructions-for-using-gdb/'>
<meta property='og:site_name' content='Tian Jiale&#39;s Blog'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='GDB' /><meta property='article:published_time' content='2022-10-31T20:27:48&#43;00:00'/><meta property='article:modified_time' content='2023-02-03T16:52:08&#43;00:00'/><meta property='og:image' content='https://static.aecra.ml/cover/Brief-Instructions-for-Using-GDB.png' />
<meta name="twitter:title" content="Brief Instructions for Using GDB">
<meta name="twitter:description" content="I have been learning programming for five or six years, but I still don’t know how to use a powerful debugging tool such as GDB. After I learned it, I wrote this simple article. It is more about providing a reference on how to use it, and more detailed The content still needs to check the official documentation of GDB."><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://static.aecra.ml/cover/Brief-Instructions-for-Using-GDB.png' />
    <link rel="shortcut icon" href="/img/favicon.png" />

<script async src="https://www.googletagmanager.com/gtag/js?id=G-V4ML7JFB21"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-V4ML7JFB21', { 'anonymize_ip': false });
}
</script>

    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended">
    <aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/en">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hua5231a43b8a957198f717690616d9973_481638_300x0_resize_box_3.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">😊</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/en">Tian Jiale&#39;s Blog</a></h1>
            <h2 class="site-description">Leave a line of dialogue for the years to come.</h2>
        </div>
    </header><ol class="social-menu">
            
                <li>
                    <a 
                        href='https://github.com/aecra'
                        target="_blank"
                        title="GitHub"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        

        <li >
            <a href='/en/about/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>About</span>
            </a>
        </li>
        
        

        <li >
            <a href='/en/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>Archives</span>
            </a>
        </li>
        
        

        <li >
            <a href='/en/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>Search</span>
            </a>
        </li>
        
        

        <li >
            <a href='/en/link/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>Friends</span>
            </a>
        </li>
        
        

        <li >
            <a href='/en/index.xml' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-rss" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="5" cy="19" r="1" />
  <path d="M4 4a16 16 0 0 1 16 16" />
  <path d="M4 11a9 9 0 0 1 9 9" />
</svg>



                
                <span>RSS</span>
            </a>
        </li>
        

        <div class="menu-bottom-section">
                <li id="i18n-switch">  
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M4 5h7" />
  <path d="M9 3v2c0 4.418 -2.239 8 -5 8" />
  <path d="M5 9c-.003 2.144 2.952 3.908 6.7 4" />
  <path d="M12 20l4 -9l4 9" />
  <path d="M19.1 18h-6.2" />
</svg>



                    <select name="language" onchange="window.location.href = this.selectedOptions[0].value">
                        
                            <option value="https://aecra.github.io/" >中文</option>
                        
                            <option value="https://aecra.github.io/en/" selected>English</option>
                        
                    </select>
                </li>
            
            
            
                <li id="dark-mode-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <span>Dark Mode</span>
                </li>
            
        </div>
    </ol>
</aside>

<main class="main full-width">
    <article class="main-article">
    <header class="article-header">
        <div class="article-image">
            
            
            <a href="/en/article/brief-instructions-for-using-gdb/">
                
                    <img src="https://static.aecra.ml/cover/Brief-Instructions-for-Using-GDB.png" loading="lazy" alt="Featured image of post Brief Instructions for Using GDB" />
                
            </a>
        </div>
    

    <div class="article-details">
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/en/article/brief-instructions-for-using-gdb/">Brief Instructions for Using GDB</a>
        </h2>
    
        
        <h3 class="article-subtitle">
            I have been learning programming for five or six years, but I still don’t know how to use a powerful debugging tool such as GDB. After I learned it, I wrote this simple article. It is more about providing a reference on how to use it, and more detailed The content still needs to check the official documentation of GDB.
        </h3>
        
    </div>

    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Oct 31, 2022</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    7 minute read
                </time>
            </div>
        
    </footer>
    

    
        <footer class="article-translations">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M4 5h7" />
  <path d="M9 3v2c0 4.418 -2.239 8 -5 8" />
  <path d="M5 9c-.003 2.144 2.952 3.908 6.7 4" />
  <path d="M12 20l4 -9l4 9" />
  <path d="M19.1 18h-6.2" />
</svg>



            <div>
                
                    <a href="https://aecra.github.io/article/brief-instructions-for-using-gdb/" class="link">中文</a>
                
            </div>
        </footer>
    
</div>
</header>

    <section class="article-content">
    
    
    <h2 id="what-is-gdb">What is GDB？</h2>
<p><a class="link" href="https://www.sourceware.org/gdb/"  target="_blank" rel="noopener"
    >GDB</a> is the GNU Project debugger that allows you to see what&rsquo;s going on &ldquo;inside&rdquo; another program while it&rsquo;s executing &ndash; or what another program was doing when it crashed.</p>
<p>There are four main things GDB can do (plus other things to support them) to help you catch errors on the fly:</p>
<ul>
<li>Start the program, specifying anything that might affect its behavior.</li>
<li>Causes your program to stop on specified conditions.</li>
<li>Check what happens when the program stops.</li>
<li>Change things in a program so you can try to correct the effects of one bug and move on to another bug.</li>
</ul>
<p>These programs may be executed on the same machine as GDB (native), on another machine (remote), or on an emulator. GDB runs on most popular UNIX and Microsoft Windows variants, as well as Mac OS X.</p>
<p>GDB support many programming languages, including:</p>
<ul>
<li>Ada</li>
<li>Assembly</li>
<li>C</li>
<li>C++</li>
<li>D</li>
<li>Fortran</li>
<li>Go</li>
<li>Objective-C</li>
<li>OpenCL</li>
<li>Modula-2</li>
<li>Pascal</li>
<li>Rust</li>
</ul>
<h2 id="how-to-run-a-gdb">How to run a GDB？</h2>
<p>If we use [tldr](<a class="link" href="https://tldr.sh/"  target="_blank" rel="noopener"
    >tldr pages</a>) to see how to use gdb, we can get the following prompt:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ tldr gdb
</span></span><span class="line"><span class="cl">gdb
</span></span><span class="line"><span class="cl">The GNU Debugger.More information: https://www.gnu.org/software/gdb.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> - Debug an executable:
</span></span><span class="line"><span class="cl">   gdb <span class="o">{{</span>executable<span class="o">}}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> - Attach a process to gdb:
</span></span><span class="line"><span class="cl">   gdb -p <span class="o">{{</span>procID<span class="o">}}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> - Debug with a core file:
</span></span><span class="line"><span class="cl">   gdb -c <span class="o">{{</span>core<span class="o">}}</span> <span class="o">{{</span>executable<span class="o">}}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> - Execute given GDB commands upon start:
</span></span><span class="line"><span class="cl">   gdb -ex <span class="s2">&#34;{{commands}}&#34;</span> <span class="o">{{</span>executable<span class="o">}}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> - Start gdb and pass arguments to the executable:
</span></span><span class="line"><span class="cl">   gdb --args <span class="o">{{</span>executable<span class="o">}}</span> <span class="o">{{</span>argument1<span class="o">}}</span> <span class="o">{{</span>argument2<span class="o">}}</span>
</span></span></code></pre></div><p>Here are several common uses of <code>GDB</code>, namely:</p>
<ul>
<li>Execute a program and debug;</li>
<li>Enter a running program and debug it by specifying the program&rsquo;s <code>proceID</code>;</li>
<li>By specifying the [core file](<a class="link" href="https://portal.perforce.com/s/article/2979"  target="_blank" rel="noopener"
    >Core Files in Linux (perforce.com)</a>) generated when the program fails, restore the scene when the program fails to debug;</li>
<li>Execute a program and pass in parameters and debug.</li>
</ul>
<p>We write a simple C language program as our debugger.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="n">c</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nf">printf</span><span class="p">(</span><span class="s">&#34;c = %d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">c</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Compile and link to an executable file with debugging information:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">gcc -g a.c -o a
</span></span></code></pre></div><p>Start GDB debugging with the following command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">gdb a
</span></span></code></pre></div><p>After entering GDB, information similar to the following will be displayed:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">GNU gdb (Debian 10.1-1.7) 10.1.90.20210103-git
</span></span><span class="line"><span class="cl">Copyright (C) 2021 Free Software Foundation, Inc.
</span></span><span class="line"><span class="cl">License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;
</span></span><span class="line"><span class="cl">This is free software: you are free to change and redistribute it.
</span></span><span class="line"><span class="cl">There is NO WARRANTY, to the extent permitted by law.
</span></span><span class="line"><span class="cl">Type &#34;show copying&#34; and &#34;show warranty&#34; for details.
</span></span><span class="line"><span class="cl">This GDB was configured as &#34;x86_64-linux-gnu&#34;.
</span></span><span class="line"><span class="cl">Type &#34;show configuration&#34; for configuration details.
</span></span><span class="line"><span class="cl">For bug reporting instructions, please see:
</span></span><span class="line"><span class="cl">&lt;https://www.gnu.org/software/gdb/bugs/&gt;.
</span></span><span class="line"><span class="cl">Find the GDB manual and other documentation resources online at:
</span></span><span class="line"><span class="cl">    &lt;http://www.gnu.org/software/gdb/documentation/&gt;.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">For help, type &#34;help&#34;.
</span></span><span class="line"><span class="cl">Type &#34;apropos word&#34; to search for commands related to &#34;word&#34;...
</span></span><span class="line"><span class="cl">Reading symbols from a...
</span></span><span class="line"><span class="cl">(No debugging symbols found in a)
</span></span><span class="line"><span class="cl">(gdb)
</span></span></code></pre></div><p>It gives us a hint that <code>apropos word</code> can be used to find related commands, so we can quickly find out how to use a certain command without querying the document.</p>
<p>For more startup related commands, see the official documentation <a class="link" href="https://sourceware.org/gdb/current/onlinedocs/gdb#Running"  target="_blank" rel="noopener"
    >Running (Debugging with GDB) (sourceware.org)</a>。</p>
<h2 id="how-to-debug-a-program-in-gdb">How to debug a program in GDB?</h2>
<p>Debugging is nothing more than understanding the running logic of the program and the state of the program in a certain execution step, so as an introduction, you only need to know how to interrupt, start, query, and how to use <code>display</code> to provide code display.</p>
<h3 id="interrupt">Interrupt</h3>
<p><a class="link" href="https://sourceware.org/gdb/current/onlinedocs/gdb#Breakpoints"  target="_blank" rel="noopener"
    >Break</a> can use Breakpoints, Watchpoints, Catchpoints. A breakpoint is where the program runs and breaks; an Watchpoint is used to observe a variable or even many variables combined by operators, and break if the value of the variable changes; a Catchpoint is to break when the program triggers an event, Such as catch, throw, assert, exec, syscall, fork, vfork, signal.</p>
<p>You can use the <code>list</code> command to query the code. Each execution will output ten lines of code. If you need to get more, you can use the <code>list</code> command multiple times. Similarly, <code>list</code> also supports printing the code of the specified line. The usage is as follows:</p>
<pre tabindex="0"><code class="language-gdb" data-lang="gdb">(gdb) list
(gdb) list 3,5
</code></pre><p>Set a breakpoint with the following command:</p>
<pre tabindex="0"><code class="language-gdb" data-lang="gdb">(gdb) break locspec
</code></pre><p>locspecc can specify the function name, line number, instruction address, etc., and break can be abbreviated as b.</p>
<p>Use the following command to query breakpoints:</p>
<pre tabindex="0"><code class="language-gdb" data-lang="gdb">(gdb) info breakpoints
(gdb) info b
</code></pre><p>Use the following command to set the watchpoint:</p>
<pre tabindex="0"><code class="language-gdb" data-lang="gdb">(gdb) watch expr
</code></pre><p>Use the following method to query watchpoints:</p>
<pre tabindex="0"><code class="language-gdb" data-lang="gdb">(gdb) info watchpoints
</code></pre><p>Use the following method to set the catchpoints:</p>
<pre tabindex="0"><code class="language-gdb" data-lang="gdb">(gdb) catch event
</code></pre><p>The catchpoints is also viewed using <code>info b</code>. It is worth mentioning that this command will also list the watchpoints we set.</p>
<h3 id="start">Start</h3>
<p>Startup is divided into starting the program from the beginning and continuing the program after interruption.</p>
<p>There are two commands to start the program from the very beginning: <code>starti</code> and <code>run</code>. Among them, starti is to start the program and stop at the first instruction. This instruction is <code>_start</code> instead of the <code>main</code> function in Linux, because the initial state of a series of programs such as the stack and global functions has not been set. The <code>run</code> command starts the program and interrupts when it reaches the set breakpoint.</p>
<p>Continuing to execute the program after interruption is actually <a class="link" href="https://sourceware.org/gdb/current/onlinedocs/gdb#Continuing-and-Stepping"  target="_blank" rel="noopener"
    >Continuing and Stepping</a>. Only the most commonly used ones are introduced here A few commands:</p>
<pre tabindex="0"><code class="language-gdb" data-lang="gdb">(gdb) continue / c
# Resume program execution, at the address where your program last stopped; any breakpoints set at that address are bypassed until the next breakpoint is reached.

(gdb) step / s
# Continue running the program until control reaches another source line, then stop it and return control to GDB, stepping into a function if it encounters it.

(gdb) step count
# Continue to run step by step, but count times. If a breakpoint or a signal unrelated to single stepping occurs before the count step, single stepping stops immediately.

(gdb) next [count] / n [count]
# Continue to the next source line in the current (innermost) stack frame. This is similar to `step`, but the occurrence of a function call within a line of code does not stop execution, ie the function is treated as an atomic instruction.

(gdb) finish
# Continue running until after the function in the selected stack frame returns.

(gdb) until locspec
# Continue running the program until the program reaches a location in the code that resolves the `locspec`, or the current stack frame returns.

(gdb) stepi / si
# Executes an instruction, then stops and returns to the debugger.

(gdb) nexti / ni
# Executes an instruction, but if it is a function call, continues execution until the function returns.
</code></pre><h3 id="queries">Queries</h3>
<p>During program execution, we may need to obtain certain information, such as the query breakpoint instruction <code>info breakpoints</code> mentioned above, the following are commonly used queries:</p>
<pre tabindex="0"><code class="language-gdb" data-lang="gdb">(gdb) print expr       # print the value of the expression
(gdb) info breakpoints # query breakpoint
(gdb) info frame       # Query stack information
(gdb) info registers   # Query the value of the register
</code></pre><h3 id="friendlier-page">Friendlier page</h3>
<p>To see exactly where the program is going, we can show the source code, or even the assembly code.</p>
<p>Display the currently running source code:</p>
<pre tabindex="0"><code class="language-gdb" data-lang="gdb">(gdb) layout src
</code></pre><p>We can get the following page:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">┌─a.c────────────────────────────────────────────────────────────────────────────┐
</span></span><span class="line"><span class="cl">│   1           #include &lt;stdio.h&gt;                                               │
</span></span><span class="line"><span class="cl">│   2                                                                            │
</span></span><span class="line"><span class="cl">│   3           int main()                                                       │
</span></span><span class="line"><span class="cl">│   4           {                                                                │
</span></span><span class="line"><span class="cl">│B+&gt;5             int a = 1, b = 2, c = 0;                                       │
</span></span><span class="line"><span class="cl">│   6             c = a + b;                                                     │
</span></span><span class="line"><span class="cl">│   7             printf(&#34;c = %d\n&#34;, c);                                         │
</span></span><span class="line"><span class="cl">│   8                                                                            │
</span></span><span class="line"><span class="cl">│   9             return 0;                                                      │
</span></span><span class="line"><span class="cl">│   10          }                                                                │
</span></span><span class="line"><span class="cl">│                                                                                │
</span></span><span class="line"><span class="cl">│                                                                                │
</span></span><span class="line"><span class="cl">│                                                                                │
</span></span><span class="line"><span class="cl">│                                                                                │
</span></span><span class="line"><span class="cl">│                                                                                │
</span></span><span class="line"><span class="cl">│                                                                                │
</span></span><span class="line"><span class="cl">│                                                                                │
</span></span><span class="line"><span class="cl">│                                                                                │
</span></span><span class="line"><span class="cl">│                                                                                │
</span></span><span class="line"><span class="cl">└────────────────────────────────────────────────────────────────────────────────┘
</span></span><span class="line"><span class="cl">native process 134526 In: main                           L5    PC: 0x55555555513d
</span></span><span class="line"><span class="cl">(gdb) layout asm
</span></span><span class="line"><span class="cl">(gdb)
</span></span></code></pre></div><p>Show assembly code:</p>
<pre tabindex="0"><code class="language-gdb" data-lang="gdb">(gdb) layout src
</code></pre><p>Get the following page:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">┌────────────────────────────────────────────────────────────────────────────────┐
</span></span><span class="line"><span class="cl">│   0x555555555135 &lt;main&gt;           push   %rbp                                  │
</span></span><span class="line"><span class="cl">│   0x555555555136 &lt;main+1&gt;         mov    %rsp,%rbp                             │
</span></span><span class="line"><span class="cl">│   0x555555555139 &lt;main+4&gt;         sub    $0x10,%rsp                            │
</span></span><span class="line"><span class="cl">│B+&gt;0x55555555513d &lt;main+8&gt;         movl   $0x1,-0x4(%rbp)                       │
</span></span><span class="line"><span class="cl">│   0x555555555144 &lt;main+15&gt;        movl   $0x2,-0x8(%rbp)                       │
</span></span><span class="line"><span class="cl">│   0x55555555514b &lt;main+22&gt;        movl   $0x0,-0xc(%rbp)                       │
</span></span><span class="line"><span class="cl">│   0x555555555152 &lt;main+29&gt;        mov    -0x4(%rbp),%edx                       │
</span></span><span class="line"><span class="cl">│   0x555555555155 &lt;main+32&gt;        mov    -0x8(%rbp),%eax                       │
</span></span><span class="line"><span class="cl">│   0x555555555158 &lt;main+35&gt;        add    %edx,%eax                             │
</span></span><span class="line"><span class="cl">│   0x55555555515a &lt;main+37&gt;        mov    %eax,-0xc(%rbp)                       │
</span></span><span class="line"><span class="cl">│   0x55555555515d &lt;main+40&gt;        mov    -0xc(%rbp),%eax                       │
</span></span><span class="line"><span class="cl">│   0x555555555160 &lt;main+43&gt;        mov    %eax,%esi                             │
</span></span><span class="line"><span class="cl">│   0x555555555162 &lt;main+45&gt;        lea    0xe9b(%rip),%rdi        # 0x555555556 │
</span></span><span class="line"><span class="cl">│   0x555555555169 &lt;main+52&gt;        mov    $0x0,%eax                             │
</span></span><span class="line"><span class="cl">│   0x55555555516e &lt;main+57&gt;        call   0x555555555030 &lt;printf@plt&gt;           │
</span></span><span class="line"><span class="cl">│   0x555555555173 &lt;main+62&gt;        mov    $0x0,%eax                             │
</span></span><span class="line"><span class="cl">│   0x555555555178 &lt;main+67&gt;        leave                                        │
</span></span><span class="line"><span class="cl">│   0x555555555179 &lt;main+68&gt;        ret                                          │
</span></span><span class="line"><span class="cl">│   0x55555555517a                      nopw   0x0(%rax,%rax,1)                  │
</span></span><span class="line"><span class="cl">└────────────────────────────────────────────────────────────────────────────────┘
</span></span><span class="line"><span class="cl">native process 134526 In: main                           L5    PC: 0x55555555513d
</span></span><span class="line"><span class="cl">(gdb) layout asm
</span></span><span class="line"><span class="cl">(gdb)
</span></span></code></pre></div>
</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            
            
            <a href="/en/tags/gdb/">GDB</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-ND 4.0</span>
    </section>
    <section class="article-lastmod">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



        <span>
            Last updated on Feb 03, 2023 16:52 UTC
        </span>
    </section></footer>


    
        <link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.css"integrity="sha256-J&#43;iAE0sgH8QSz9hpcDxXIftnj65JEZgNhGcgReTTK9s="crossorigin="anonymous"
            ><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.js"integrity="sha256-InsNdER1b2xUewP&#43;pKCUJpkhiqwHgqiPXDlIk7GzBu4="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/contrib/auto-render.min.js"integrity="sha256-y39Mpg7V3D4lhBX4x6O0bUqTV4pSrfgwEfGKfxkOdgI="crossorigin="anonymous"
                defer
                >
            </script><script>
    window.addEventListener("DOMContentLoaded", () => {
        renderMathInElement(document.querySelector(`.article-content`), {
            delimiters: [
                { left: "$$", right: "$$", display: true },
                { left: "$", right: "$", display: false },
                { left: "\\(", right: "\\)", display: false },
                { left: "\\[", right: "\\]", display: true }
            ]
        });})
</script>
    
</article>

    

    

     
    
        
    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2021 - 
        
        2023 Tian Jiale&#39;s Blog
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.13.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">Table of contents</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#what-is-gdb">What is GDB？</a></li>
    <li><a href="#how-to-run-a-gdb">How to run a GDB？</a></li>
    <li><a href="#how-to-debug-a-program-in-gdb">How to debug a program in GDB?</a>
      <ol>
        <li><a href="#interrupt">Interrupt</a></li>
        <li><a href="#start">Start</a></li>
        <li><a href="#queries">Queries</a></li>
        <li><a href="#friendlier-page">Friendlier page</a></li>
      </ol>
    </li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>
<script type="text/javascript">
    console.log("%c aecra %c Leave a dialogue for the years to come！ ","color: #fff; margin: 1em 0; padding: 5px 0; background: #3498db;","margin: 1em 0; padding: 5px 0; background: #efefef;");
</script>
<script>
    
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?63f15ba6b5eafecd5a7d2290491d47ce";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
</script>
    </body>
</html>
