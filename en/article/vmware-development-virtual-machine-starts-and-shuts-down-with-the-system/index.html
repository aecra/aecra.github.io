<!doctype html>



































<html
  class="not-ready lg:text-base"
  style="--bg: #faf8f1"
  lang="en"
>
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, shrink-to-fit=no"
  />

  
  <title>VMware development virtual machine starts and shuts down with the system. - Tian Jiale&#39;s Blog</title>

  
  <meta name="theme-color" />

  
  
  
  
  <meta name="description" content="Reasons for Vmware Virtual Machine Development Windows development is sometimes so unsatisfactory, especially when the services developed need to run in Linux, and there are always some inexplicable problems if you develop in Windows, so it is necessary to develop in Linux. There are several options for using Linux development environment in Windows, such as WSL2, Hyper-V, VitualBox and Vmware. WSL2 is so tied to Windows that many configurations cannot" />
  <meta name="author" content="Tian Jiale" />
  

  
  
  
  
  
  
  <link rel="preload stylesheet" as="style" href="/main.min.css" />

  
  
  
  
  
  <link rel="preload" as="image" href="theme.png" />

  
  
  
  
  <link rel="preload" as="image" href="https://static.aecra.cn/avatar.png" />
  
  

  
  
  <link rel="preload" as="image" href="github.svg" />
  
  

  
  
  <script
    defer
    src="highlight.min.js"
    onload="hljs.initHighlightingOnLoad();"
  ></script>
  

  
  
  
  <link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/katex.min.css"
  integrity="sha384-3UiQGuEI4TTMaFmGIZumfRPtfKQ3trwQE2JgosJxCnGmQpL/lJdjpcHkaaFwHlcI"
  crossorigin="anonymous"
/>
<script
  defer
  src="https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/katex.min.js"
  integrity="sha384-G0zcxDFp5LWZtDuRMnBkk3EphCK1lhEf4UEyEM693ka574TZGwo4IWwS6QLzM/2t"
  crossorigin="anonymous"
></script>
<script
  defer
  src="https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/contrib/auto-render.min.js"
  integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05"
  crossorigin="anonymous"
></script>

<script>
    document.addEventListener("DOMContentLoaded", () =>
        renderMathInElement(document.body, {
          
          
          delimiters: [
              {left: '$$', right: '$$', display: true},
              {left: '$', right: '$', display: false},
          ],
          
          throwOnError : false
        })
    );
</script>

  
  
  

  
  <link rel="icon" href="favicon.ico" />
  <link rel="apple-touch-icon" href="apple-touch-icon.png" />

  
  <meta name="generator" content="Hugo 0.121.1">

  
  
  
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-V4ML7JFB21"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-V4ML7JFB21', { 'anonymize_ip': false });
}
</script>

  
  <meta itemprop="name" content="VMware development virtual machine starts and shuts down with the system.">
<meta itemprop="description" content="How can development with Vmware&#39;s virtual machines be more efficient? It&#39;s better to be senseless, of course."><meta itemprop="datePublished" content="2022-02-13T20:19:13+00:00" />
<meta itemprop="dateModified" content="2022-02-13T20:19:13+00:00" />
<meta itemprop="wordCount" content="362">
<meta itemprop="keywords" content="Vmware," />
  
  <meta property="og:title" content="VMware development virtual machine starts and shuts down with the system." />
<meta property="og:description" content="How can development with Vmware&#39;s virtual machines be more efficient? It&#39;s better to be senseless, of course." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/en/article/vmware-development-virtual-machine-starts-and-shuts-down-with-the-system/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2022-02-13T20:19:13+00:00" />
<meta property="article:modified_time" content="2022-02-13T20:19:13+00:00" />


  
  <meta name="twitter:card" content="summary"/><meta name="twitter:title" content="VMware development virtual machine starts and shuts down with the system."/>
<meta name="twitter:description" content="How can development with Vmware&#39;s virtual machines be more efficient? It&#39;s better to be senseless, of course."/>

  
  
  
  <link rel="canonical" href="/en/article/vmware-development-virtual-machine-starts-and-shuts-down-with-the-system/" />
  
  
</head>

  <body class="text-black duration-200 ease-out dark:text-white">
    <header class="mx-auto flex h-[4.5rem] max-w-3xl px-8 lg:justify-center">
  <div class="relative z-50 mr-auto flex items-center">
    <a
      class="-translate-x-[1px] -translate-y-[1px] text-2xl font-semibold"
      href=""
      >Tian Jiale&#39;s Blog</a
    >
    <div
      class="btn-dark text-[0] ml-4 h-6 w-6 shrink-0 cursor-pointer [background:url(./theme.png)_left_center/_auto_theme('spacing.6')_no-repeat] [transition:_background-position_0.4s_steps(5)] dark:[background-position:right]"
      role="button"
      aria-label="Dark"
    ></div>
  </div>

  <div
    class="btn-menu relative z-50 -mr-8 flex h-[4.5rem] w-[5rem] shrink-0 cursor-pointer flex-col items-center justify-center gap-2.5 lg:hidden"
    role="button"
    aria-label="Menu"
  ></div>

  

  <script>
    
    const htmlClass = document.documentElement.classList;
    setTimeout(() => {
      htmlClass.remove('not-ready');
    }, 10);

    
    const btnMenu = document.querySelector('.btn-menu');
    btnMenu.addEventListener('click', () => {
      htmlClass.toggle('open');
    });

    
    const metaTheme = document.querySelector('meta[name="theme-color"]');
    const lightBg = '#faf8f1'.replace(/"/g, '');
    const setDark = (isDark) => {
      metaTheme.setAttribute('content', isDark ? '#000' : lightBg);
      htmlClass[isDark ? 'add' : 'remove']('dark');
      localStorage.setItem('dark', isDark);
    };

    
    const darkScheme = window.matchMedia('(prefers-color-scheme: dark)');
    if (htmlClass.contains('dark')) {
      setDark(true);
    } else {
      const darkVal = localStorage.getItem('dark');
      setDark(darkVal ? darkVal === 'true' : darkScheme.matches);
    }

    
    darkScheme.addEventListener('change', (event) => {
      setDark(event.matches);
    });

    
    const btnDark = document.querySelector('.btn-dark');
    btnDark.addEventListener('click', () => {
      setDark(localStorage.getItem('dark') !== 'true');
    });
  </script>

  <div
    class="nav-wrapper fixed inset-x-0 top-full z-40 flex h-full select-none flex-col justify-center pb-16 duration-200 dark:bg-black lg:static lg:h-auto lg:flex-row lg:!bg-transparent lg:pb-0 lg:transition-none"
  >
    
    

    
    <nav
      class="mt-12 flex justify-center space-x-10 dark:invert lg:ml-12 lg:mt-0 lg:items-center lg:space-x-6"
    >
      
      <a
        class="h-8 w-8 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
        style="--url: url(./github.svg)"
        href="https://github.com/aecra"
        target="_blank"
        rel="me"
      >
        github
      </a>
      
    </nav>
    
  </div>
</header>


    <main
      class="prose prose-neutral relative mx-auto min-h-[calc(100%-9rem)] max-w-3xl px-8 pb-16 pt-12 dark:prose-invert"
    >
      

<article>
  <header class="mb-16">
    <h1 class="!my-0 pb-2.5">VMware development virtual machine starts and shuts down with the system.</h1>

    
    <div class="text-sm antialiased opacity-60">
      
      <time>Feb 13, 2022</time>
      
      
      
      
    </div>
    
  </header>

  <section><h2 id="reasons-for-vmware-virtual-machine-development">Reasons for Vmware Virtual Machine Development</h2>
<p>Windows development is sometimes so unsatisfactory, especially when the services developed need to run in Linux, and there are always some inexplicable problems if you develop in Windows, so it is necessary to develop in Linux.</p>
<p>There are several options for using Linux development environment in Windows, such as WSL2, Hyper-V, VitualBox and Vmware. WSL2 is so tied to Windows that many configurations cannot be done as you wish. Hyper-V is more flexible, but it takes a long time to start up and shut down, and its performance is not very good. The more prominent problem is that I still don&rsquo;t know how the network topology is, which causes a lot of problems for practical use. VirtualBox has not been used, but because of its open source and free reasons may switch to this in the future. Vmware is the best independent, the configuration and storage of virtual machines are saved in the form of separate files, which is convenient for migration and backup, and its network configuration is more flexible, so it is the first choice for Linux development.</p>
<h2 id="vmware-virtual-machine-startup-and-shutdown">Vmware Virtual Machine Startup and Shutdown</h2>
<p>Here a start-up script and a shutdown script are created, both of which read as follows.</p>
<p>Start-up script:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#e6db74">&#34;C:\Program Files (x86)\VMware\VMware Workstation\vmrun.exe&#34;</span> start <span style="color:#e6db74">&#34;D:\virtual machine\ubuntu20.04\Ubuntu 20.04 64 位.vmx&#34;</span> nogui
</span></span></code></pre></div><p>Shutdown script:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#e6db74">&#34;C:\Program Files (x86)\VMware\VMware Workstation\vmrun.exe&#34;</span> stop <span style="color:#e6db74">&#34;D:\virtual machine\ubuntu20.04\Ubuntu 20.04 64 位.vmx&#34;</span> soft
</span></span></code></pre></div><p>Here, we use a GUI-free startup and enable the ssh service to connect remotely, so that we can connect to the VM remotely via ssh for development.</p>
<h2 id="senseless-operation-of-vmware-virtual-machines">Senseless operation of Vmware virtual machines</h2>
<p>We can use the Startup folder or Scheduled Tasks to set the boot-up in Windows, but here we use Group Policy.</p>
<p>To set up.</p>
<ol>
<li><code>win</code> + <code>R</code> to open Run.</li>
<li>Type <code>gpedit.msc</code> to open the Local Group Policy Editor.</li>
<li>Find User Configuration -&gt; Windows Settings -&gt; Scripts (Logon/Logoff).</li>
<li>Add the scripts in the previous summary to Logon and Logoff respectively.</li>
</ol>
<p>After rebooting and shutting down, you can find that the virtual machine is running without any sense.</p>
</section>

  
  
  <footer class="mt-12 flex flex-wrap">
     
    <a
      class="mb-1.5 mr-1.5 rounded-lg bg-black/[3%] px-5 py-1.5 no-underline dark:bg-white/[8%]"
      href="tags/vmware"
      >Vmware</a
    >
    
  </footer>
  

  
  
  
  
  <nav class="mt-24 flex rounded-lg bg-black/[3%] text-lg dark:bg-white/[8%]">
    
    <a
      class="flex w-1/2 items-center rounded-l-md p-6 pr-3 font-semibold no-underline hover:bg-black/[2%] dark:hover:bg-white/[3%]"
      href="/en/article/build-a-gateway-by-kong/"
      ><span class="mr-1.5">←</span><span>Build a gateway by kong.</span></a
    >
    
    
    <a
      class="ml-auto flex w-1/2 items-center justify-end rounded-r-md p-6 pl-3 font-semibold no-underline hover:bg-black/[2%] dark:hover:bg-white/[3%]"
      href="/en/article/how-to-mount-host-folder-in-vmware-20.04-on-windows/"
      ><span>How to mount host folder in VMware 20.04 on Windows.</span><span class="ml-1.5">→</span></a
    >
    
  </nav>
  
  

  
  

  
  

  
  
</article>


    </main>

    <footer
  class="opaco mx-auto flex h-[4.5rem] max-w-3xl items-center px-8 text-[0.9em] opacity-60"
>
  <div class="mr-auto">
    &copy; 2023
    <a class="link" href="">Tian Jiale&#39;s Blog</a>
  </div>
  <a class="link mx-6" href="https://gohugo.io/" rel="noopener" target="_blank"
    >Powered by Hugo️️</a
  >️
  <a
    class="link"
    href="https://github.com/nanxiaobei/hugo-paper"
    rel="noopener"
    target="_blank"
    >✎ Paper</a
  >
</footer>

  </body>
</html>
